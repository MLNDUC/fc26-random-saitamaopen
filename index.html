<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FC26 Random Team</title>

    <!-- PWA -->
    <meta name="theme-color" content="#0b0f16">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="FC26 Random">

    <link rel="manifest" href="manifest.webmanifest">
    <link rel="apple-touch-icon" href="icons/icon-180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="icons/icon-512.png">

    <style>
        :root {
            --bg: #0b0f16;
            --panel: #121826;
            --a: #4da3ff;
            --b: #00ffc6;
            --t: #e6ebf2;
            --m: #8a93a6;
        }

        * {
            box-sizing: border-box
        }

        body {
            margin: 0;
            background: radial-gradient(1200px 600px at top, #16203a, var(--bg));
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            color: var(--t)
        }

        h1 {
            text-align: center;
            margin: 16px 0 6px
        }

        .sub {
            text-align: center;
            font-size: 13px;
            color: var(--m);
            margin-bottom: 14px
        }

        .app {
            max-width: 960px;
            margin: 0 auto;
            padding: 12px
        }

        .grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 14px
        }

        @media(min-width:720px) {
            .grid {
                grid-template-columns: 1fr 1fr
            }
        }

        .p {
            background: linear-gradient(180deg, #141c2f, var(--panel));
            border-radius: 16px;
            padding: 14px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, .4)
        }

        .p h2 {
            margin: 0 0 10px;
            font-size: 18px
        }

        .card {
            height: 190px;
            border-radius: 14px;
            background: linear-gradient(145deg, #0f1526, #1a2340);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 10px
        }

        .card.sp {
            animation: pulse .6s infinite alternate;
            filter: blur(.5px)
        }

        @keyframes pulse {
            from {
                box-shadow: 0 0 0 rgba(77, 163, 255, .25)
            }

            to {
                box-shadow: 0 0 36px rgba(77, 163, 255, .6)
            }
        }

        .logo {
            width: 96px;
            height: 96px;
            object-fit: contain
        }

        .name {
            font-weight: 700;
            text-align: center
        }

        .st {
            font-size: 13px;
            color: var(--m);
            min-height: 18px;
            margin-top: 6px
        }

        button {
            margin-top: 10px;
            width: 100%;
            padding: 12px;
            border-radius: 12px;
            border: none;
            font-weight: 700;
            background: linear-gradient(135deg, var(--a), var(--b));
            color: #001019
        }

        button:disabled {
            background: #2a3248;
            color: var(--m)
        }

        .controls {
            margin-top: 14px
        }

        .reset {
            background: linear-gradient(135deg, #ff7a7a, #ffb86b);
            color: #240000
        }

        .remain {
            margin-top: 18px;
            background: #0f1526;
            border-radius: 14px;
            padding: 10px
        }

        .remain h3 {
            margin: 0 0 8px;
            font-size: 14px;
            color: var(--m)
        }

        .list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 8px
        }

        .it {
            display: flex;
            align-items: center;
            gap: 6px;
            background: #141c2f;
            border-radius: 8px;
            padding: 6px;
            font-size: 12px
        }

        .it img {
            width: 28px;
            height: 28px;
            object-fit: contain
        }

        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #1e263d;
            padding: 10px 16px;
            border-radius: 999px;
            opacity: 0;
            transition: .3s;
            z-index: 9999
        }

        .toast.show {
            opacity: 1
        }
    </style>
</head>

<body>
    <h1>üéÆ FC26 ‚Äì Random Team Picker</h1>
    <div class="sub">PWA ‚Ä¢ 2 ng∆∞·ªùi ‚Ä¢ Kh√¥ng tr√πng ƒë·ªôi ‚Ä¢ C√†i l√™n iPhone qua Safari</div>

    <div class="app">
        <div class="grid">
            <div class="p">
                <h2>Ng∆∞·ªùi ch∆°i 1</h2>
                <div class="card" id="r0">
                    <img class="logo" id="l0" alt="">
                    <div class="name" id="n0">‚Äî</div>
                </div>
                <div class="st" id="s0"></div>
                <button id="b0">Quay cho Ng∆∞·ªùi ch∆°i 1</button>
            </div>

            <div class="p">
                <h2>Ng∆∞·ªùi ch∆°i 2</h2>
                <div class="card" id="r1">
                    <img class="logo" id="l1" alt="">
                    <div class="name" id="n1">‚Äî</div>
                </div>
                <div class="st" id="s1"></div>
                <button id="b1" disabled>Quay cho Ng∆∞·ªùi ch∆°i 2</button>
            </div>
        </div>

        <div class="controls">
            <button class="reset" id="reset">Reset / Quay l·∫°i t·ª´ ƒë·∫ßu</button>
        </div>

        <div class="remain">
            <h3>ƒê·ªôi c√≤n l·∫°i</h3>
            <div class="list" id="list"></div>
        </div>
    </div>

    <div class="toast" id="toast"></div>

    <script>
        const TEAMS = [
            { id: 1, name: "Real Madrid", i: "RM", u: "https://upload.wikimedia.org/wikipedia/en/5/56/Real_Madrid_CF.svg" },
            { id: 2, name: "FC Barcelona", i: "BAR", u: "https://upload.wikimedia.org/wikipedia/en/4/47/FC_Barcelona_%28crest%29.svg" },
            { id: 3, name: "Paris Saint-Germain", i: "PSG", u: "https://upload.wikimedia.org/wikipedia/en/a/a7/Paris_Saint-Germain_F.C..svg" },
            { id: 4, name: "Liverpool", i: "LIV", u: "https://upload.wikimedia.org/wikipedia/en/0/0c/Liverpool_FC.svg" },
            { id: 5, name: "Manchester City", i: "MCI", u: "https://upload.wikimedia.org/wikipedia/en/e/eb/Manchester_City_FC_badge.svg" },
            { id: 6, name: "Arsenal", i: "ARS", u: "https://upload.wikimedia.org/wikipedia/en/5/53/Arsenal_FC.svg" },
            { id: 7, name: "Bayern Munich", i: "BAY", u: "https://upload.wikimedia.org/wikipedia/commons/1/1f/FC_Bayern_M%C3%BCnchen_logo_%282017%29.svg" },
            { id: 8, name: "Atl√©tico Madrid", i: "ATM", u: "https://upload.wikimedia.org/wikipedia/en/f/f4/Atletico_Madrid_2017_logo.svg" },
            { id: 9, name: "Newcastle United", i: "NEW", u: "https://upload.wikimedia.org/wikipedia/en/5/56/Newcastle_United_Logo.svg" },
            { id: 10, name: "Napoli", i: "NAP", u: "https://upload.wikimedia.org/wikipedia/commons/2/2d/SSC_Napoli.svg" },
            { id: 11, name: "Tottenham Hotspur", i: "TOT", u: "https://upload.wikimedia.org/wikipedia/en/b/b4/Tottenham_Hotspur.svg" },
            { id: 12, name: "Chelsea", i: "CHE", u: "https://upload.wikimedia.org/wikipedia/en/c/cc/Chelsea_FC.svg" },
            { id: 13, name: "Manchester United", i: "MUN", u: "https://upload.wikimedia.org/wikipedia/en/7/7a/Manchester_United_FC_crest.svg" },
            { id: 14, name: "Bayer Leverkusen", i: "B04", u: "https://upload.wikimedia.org/wikipedia/en/5/59/Bayer_04_Leverkusen_logo.svg" },
            { id: 15, name: "Spain", i: "ESP", u: "https://upload.wikimedia.org/wikipedia/en/9/9a/Spain_national_football_team_crest.svg" },
            { id: 16, name: "France", i: "FRA", u: "https://upload.wikimedia.org/wikipedia/en/c/c3/France_national_football_team_seal.svg" },
            { id: 17, name: "Argentina", i: "ARG", u: "https://upload.wikimedia.org/wikipedia/en/c/c1/Argentina_national_football_team_logo.svg" },
            { id: 18, name: "England", i: "ENG", u: "https://upload.wikimedia.org/wikipedia/en/b/be/England_national_football_team_crest.svg" },
            { id: 19, name: "Portugal", i: "POR", u: "https://upload.wikimedia.org/wikipedia/en/5/5f/Portugal_national_football_team_crest.svg" },
            { id: 20, name: "Germany", i: "GER", u: "https://upload.wikimedia.org/wikipedia/en/e/e3/Germany_national_football_team_logo.svg" }
        ];

        let pool = [], picked = [null, null], spin = [null, null];

        const $ = id => document.getElementById(id);
        const toast = m => { const t = $("toast"); t.textContent = m; t.classList.add("show"); setTimeout(() => t.classList.remove("show"), 1500); };
        const fallback = (img, txt) => img.src = `data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120'><rect width='120' height='120' rx='60' fill='%232a3248'/><text x='50%' y='55%' text-anchor='middle' fill='white' font-size='36' font-family='Arial' font-weight='700'>${txt}</text></svg>`;

        function setCard(p, t) {
            const img = $("l" + p);
            img.src = t.u;
            img.loading = "lazy";
            img.referrerPolicy = "no-referrer";
            img.crossOrigin = "anonymous";
            img.onerror = () => fallback(img, t.i);
            $("n" + p).textContent = t.name;
        }
        function drawList() {
            $("list").innerHTML = "";
            pool.forEach(t => {
                const d = document.createElement("div"); d.className = "it";
                const i = document.createElement("img");
                i.src = t.u; i.loading = "lazy"; i.referrerPolicy = "no-referrer"; i.crossOrigin = "anonymous";
                i.onerror = () => fallback(i, t.i);
                d.append(i, document.createTextNode(t.name));
                $("list").appendChild(d);
            });
        }
        function rand() { return pool[(Math.random() * pool.length) | 0]; }

        function spinStart(p) {
            if (p === 1 && !picked[0]) return toast("Quay Ng∆∞·ªùi ch∆°i 1 tr∆∞·ªõc");
            $("r" + p).classList.add("sp");
            $("s" + p).textContent = "ƒêang quay...";
            spin[p] = setInterval(() => setCard(p, rand()), 80);
            setTimeout(() => spinStop(p), 3000);
        }
        function spinStop(p) {
            clearInterval(spin[p]);
            const t = rand();
            picked[p] = t;
            pool = pool.filter(x => x.id !== t.id);
            setCard(p, t);
            $("s" + p).textContent = "K·∫øt qu·∫£:";
            $("r" + p).classList.remove("sp");
            drawList();
            if (p === 0) $("b1").disabled = false;
            else $("b0").disabled = $("b1").disabled = true;
        }
        function reset() {
            pool = [...TEAMS];
            picked = [null, null];
            ["0", "1"].forEach(i => { $("n" + i).textContent = "‚Äî"; $("l" + i).src = ""; $("s" + i).textContent = ""; $("r" + i).classList.remove("sp"); });
            $("b0").disabled = false; $("b1").disabled = true;
            drawList();
        }

        $("b0").onclick = () => spinStart(0);
        $("b1").onclick = () => spinStart(1);
        $("reset").onclick = reset;

        // Register SW (PWA)
        if ("serviceWorker" in navigator) {
            window.addEventListener("load", () => navigator.serviceWorker.register("./sw.js"));
        }

        // optional preload (reduce flicker)
        TEAMS.forEach(t => { const im = new Image(); im.src = t.u; });

        reset();
    </script>
</body>

</html>